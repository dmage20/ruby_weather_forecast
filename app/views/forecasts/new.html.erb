<h1>Check the Weather</h1>

<%= form_with url: forecast_path, method: :get, local: true, id: "forecast-form" do |form| %>
  <div class="form-row">
    <%= form.label :address, "Enter Address:" %><br>
    <%= form.text_field :address, required: true, placeholder: "US address or zip code", maxlength: 200  %>
    <%= form.submit "Get Forecast" %>
  </div>
<% end %>

<div id="loading-message" style="display: none; color: gray; margin-top: 1rem;">
  Getting forecast...
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const form = document.getElementById("forecast-form");
    const loadingMessage = document.getElementById("loading-message");

    form.addEventListener("submit", function () {
      loadingMessage.style.display = "block";
    });
  });
</script>